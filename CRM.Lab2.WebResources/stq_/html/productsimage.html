<!DOCTYPE html>
<html>
<head>
    <title></title>
	<meta charset="utf-8" />
    <script src="../lib/common.2.5.js"></script>
    <script src="../lib/knockout.3.4.0.js"></script>
</head>
<body>
    <img width="400" data-bind="attr: {src: img}, visible: isvisible" />

    <script>
        var vm = (function () {
            var obj = {
                img: ko.observable(""),
                isvisible: ko.observable(false)
            };

            obj.onLoad = function () {
                common.getField("stq_imgurl").addOnChange(function () {
                    var url = common.getField("stq_imgurl").getValue();
                    if (!url)
                        return;

                    obj.img(url);
                    obj.isvisible(true);
                });
                common.getField("stq_imgurl").fireOnChange();
            }

            return obj;
        })();

        vm.onLoad();

        ko.applyBindings(vm);
    </script>
</body>
</html>
